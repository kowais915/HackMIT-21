<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
  
<script src="app.js" defer></script>
   
    <title>The App</title>


</head>



<body>

<div class="signIn">


<!-- welcome screen -->
            <div class="welcome">
                <h1>Welcome to <span id="trash">Trash</span> <span id="it">It</span>!</h1>
                <div><p>This app was created during HackMIT'21</p></div>
                
            </div>
            <p id="intro">This app is aimed towards a cleaner environment. Since littering is a major problem in Pakistan so I thought there's should be a fun app that locates the nearest bins and encourages people to avoid littering. The app locates trashbins on campus. Some of the features are not working atm and I am working on more functionalities inlcuding authantication and marking off areas that needs to be cleaned. I will be adding interactivity so user can interact with different elements on the map. The area shown on the map is my school - Ghulam Ishaq Khan Institute of Engineering Sciences & Technology. </p>

<!-- The Map -->




            <div id="map"></div>

        



</div>
<!-- buttons -->
<div class="navButtons">
    <button id="bt-1">Nearest Bin</button>
    <button id=bt-2>Locate Litter</button>
</div>

<p class="right">Owais | HackMIT'21</p>

  

<script >

function initMap(){


map = new google.maps.Map(document.getElementById('map'), {
  center: {lat: -34.397, lng: 150.644},
  zoom: 17,
  center:{lat:34.0691, lng: 72.6441},
  mapId: '80a0006913cc76e6'
});



// const marker = new google.maps.Marker({
//     position: {lat:34.06959619456082, lng:72.64465545778673  },
//     map: map,
//   });

// }


//34.06959619456082, 72.64465545778673






// #############################
//The cluster marker snippet from the documentation was used here to mark the dustbins on the map
 
 const labels = "123456789";


const markers = locations.map((location, i) => {
  return new google.maps.Marker({
    position: location,
    map:map,
    icon:{
        url:"icons8-garbage-bin-60.png",
        scaledSize: new google.maps.Size(50, 43)
    },
    title: "Trashbin",
    label: labels[i % labels.length],
  });
});


new MarkerClusterer(map, markers, {
  imagePath:
    "https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",
});



}

// these coordinates are picked from Google Maps
const locations = [
{ lat: 34.06969614717942, lng: 72.64506697279018 },

// 34.06969614717942, 72.64506697279018
{ lat: 34.069669488547866, lng: 72.64412425320535 },


{ lat: 34.06949045111916, lng: 72.64325971290377},


{ lat: 34.07105987177502, lng: 72.64357702123158 },


{ lat: 34.07022564296842, lng: 72.6420410804567},

{ lat: 34.068717404519056, lng: 72.64556421219011},

{ lat: 34.071352486203615, lng: 72.64526917068682},

{ lat: 34.07118087576404, lng: 72.64842801358517},


{ lat: 34.069708397447705, lng: 72.64097237769371},
// , , 

];




// #############################getting location###########




const myloc = document.querySelector('button');

myloc.addEventListener('click', ()=>{

    const success = (position) =>{
        console.log(position);
    }
    const err = (position)=>{
        console.error(error);
    }
    navigator.geolocation.getCurrentPosition(success, err);




})

map.addEventListener("click",()=>{
    alert("You located the litter")


})

const locLit = document.getElementById('bt-2');
locLit.addEventListener('click',()=>{
    alert("Click/Tap on the map to locate litter");
})



</script>



<script async 
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCqKY7yWS4EDi4kwyO90jAYRDpRVUGoFQM&callback=initMap"
defer></script>





    </body>
</html>